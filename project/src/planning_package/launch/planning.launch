<?xml version="1.0"?>
<launch>
    <!-- ========== 参数设置 ========== -->
    <arg name="planning_frequency" default="5.0" />
    <arg name="enable_rviz" default="true" />
    <arg name="debug" default="false" />
    
    <!-- ========== 规划节点 ========== -->
    <node name="planning_node" 
          pkg="planning_package" 
          type="planning_node" 
          output="screen"
          respawn="true">
        
        <!-- 规划参数 -->
        <param name="planning_frequency" value="$(arg planning_frequency)" />
        <param name="lookahead_distance" value="10.0" />
        <param name="trajectory_points" value="8" />
        <param name="default_speed" value="3.0" />
        <param name="avoidance_lateral_distance" value="2.5" />
        <param name="vehicle_width" value="1.8" />
        <param name="safety_margin" value="0.5" />
        
    </node>
    
    <!-- ========== RViz可视化 ========== -->
    <group if="$(arg enable_rviz)">
        <node name="rviz" 
              pkg="rviz" 
              type="rviz" 
              output="screen"
              required="false" />
    </group>
    
    <!-- ========== 调试工具（可选） ========== -->
    <group if="$(arg debug)">
        <node name="rqt_graph" pkg="rqt_graph" type="rqt_graph" />
    </group>
    
</launch>